<div class="container">
  <h3>Enrollment and Demographics Data</h3>

  <div class="buttons">
    <!-- Dropdown for selecting filter -->
    <p-dropdown
      [options]="filters"
      [(ngModel)]="selectedFilter"
      (onChange)="applyFilter()"
      optionLabel="name"
      placeholder="Select a Filter">
    </p-dropdown>

    <!-- Search bar; triggers filtering on each keystroke -->
    <input
    pInputText
      type="text"
      [(ngModel)]="searchValue"
      (input)="applyFilter()"
      placeholder="Enter search text..."
      style="margin-bottom: 1rem;"
    />
    <p-button (onClick)="showDialog()" label="Show Pie Chart" />
  <p-dialog header="Pie Chart" [modal]="true" [(visible)]="visible" [style]="{ width: '100%', height: '100%'}">
    <p-chart type="pie" [data]="data" [options]="options"></p-chart>
  </p-dialog>
  </div>



  <p-table
  [value]="filteredDataRows"
  styleClass="p-datatable-gridlines"
  [scrollable]="true"
  scrollHeight="500px"
  [tableStyle]="{ 'min-width': '100%'}">

  <ng-template pTemplate="header">
    <tr>
      <th>City</th>
      <th>State</th>
      <th>Zip Code</th>
      <th>Term</th>
      <th>Population</th>
      <th>Income</th>
      <th>Bachelor Degree</th>
      <th>Median Age</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-row>
    <tr>
      <td>{{ row[0] }}</td>
      <td>{{ row[1] }}</td>
      <td>{{ row[2] }}</td>
      <td>{{ row[3] }}</td>
      <td>{{ row[4] }}</td>
      <td>{{ row[5] }}</td>
      <td>{{ row[6] }}</td>
      <td>{{ row[7] }}</td>
    </tr>
  </ng-template>
</p-table>
</div>
